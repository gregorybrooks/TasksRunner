nohup: ignoring input
set -o allexport

SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

# The following file is also passed to the Docker container, so it has to follow
# the rules for Docker env files--no nested variables
ENV_FILE="${SCRIPT_DIR}/eval.env.HITL"
source $ENV_FILE
systemName=PROD
APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app
CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus
SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch
targetCorpusFileName=arabic/arabic-corpus.jl
englishCorpusFileName=english/english-training-corpus.jl

preTrainSizeParm=SMALL
skipRequestDocAnnotation=false
skipExampleDocAnnotation=false
skipPretrain=true
skipReranker=true
REQUEST_HITS_DETAILED=50
RESULTS_CAP=50
includeEventsInFinalResults=false
useTaskSetFile=true
processingModel=ONE_STEP
doTaskLevelEvaluation=false
doRequestLevelEvaluation=false
requestLevelQueryFormulatorDockerImage=gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
taskLevelQueryFormulatorDockerImage=gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
getCandidateDocsQueryFormulatorDockerImage=gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
getPhrasesQueryFormulatorDockerImage=gregorybrooks/better-query-builder-get-phrases:1.0.0
rerankerDockerImage=gregorybrooks/better-reranker-z1:3.2.1
sudoNeeded=true
gpuDevice=
isTargetEnglish=false
corpusFileFormat=BETTER
analyticTasksFileFormat=BETTER
readQrelFile=false
expandQrelDocuments=false
qrelFileName=IR-relevance-assessments.qrels
supplementalFileLocation=
supplementalFileName=supplemental_info.json
tasksFileNameAUTO=ir-tasks.json
tasksFileNameAUTOHITL=ir-tasks.json
tasksFileNameHITL=ir-tasks.json
targetLanguage=ARABIC
targetIndexName=better-clear-ir-arabic
englishIndexName=better-clear-ir-english

#docker pull gregorybrooks/tasks-runner:4.1.0
#docker pull gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
#docker pull gregorybrooks/better-query-builder-1:3.1.0
#docker pull gregorybrooks/better-reranker-z1:3.2.1
#docker pull gregorybrooks/better-query-builder-get-candidate-docs:1.0.0

MODELS_BASE_DIR_ENGLISH=
MODELS_BASE_DIR_ARABIC=
#MODELS_BASE_DIR_ARABIC=${SCRATCH_DIR}/clear_ir/isi_models_basic_b_bos

corpusFileLocation=${CORPUS_DIR}
scratchFileLocation=$SCRATCH_DIR/clear_ir
appFileLocation=${APP_DIR}
EVENT_EXTRACTOR_FILE_DIRECTORY=${SCRATCH_DIR}/clear_ir/eventextractorfiles

docker run --rm --env-file=$ENV_FILE -p 9400:9400 -v /var/run/docker.sock:/var/run/docker.sock -v $APP_DIR:$APP_DIR -v $CORPUS_DIR:$CORPUS_DIR -v $SCRATCH_DIR:$SCRATCH_DIR --env MODELS_BASE_DIR_ENGLISH=$MODELS_BASE_DIR_ENGLISH --env MODELS_BASE_DIR_ARABIC=$MODELS_BASE_DIR_ARABIC --env corpusFileLocation=$corpusFileLocation --env scratchFileLocation=$scratchFileLocation --env appFileLocation=$appFileLocation --env EVENT_EXTRACTOR_FILE_DIRECTORY=$EVENT_EXTRACTOR_FILE_DIRECTORY --env targetCorpusFileName=$targetCorpusFileName --env englishCorpusFileName=$englishCorpusFileName --entrypoint /home/tasksrunner/scripts/run_ir.sh gregorybrooks/tasks-runner:5.0.0

cd target && java -jar tasks-runner-5.0.0.jar
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/tasksrunner/target/tasks-runner-5.0.0.jar!/BOOT-INF/lib/logback-classic-1.2.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/tasksrunner/target/tasks-runner-5.0.0.jar!/BOOT-INF/lib/slf4j-nop-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.6.4)

2022-05-21 15:06:18.634  INFO 7 --- [           main] edu.umass.ciir.TasksRunnerApplication    : Starting TasksRunnerApplication v5.0.0 using Java 11.0.10 on 05c0666dd36b with PID 7 (/home/tasksrunner/target/tasks-runner-5.0.0.jar started by tasksrunner in /home/tasksrunner/target)
2022-05-21 15:06:18.638  INFO 7 --- [           main] edu.umass.ciir.TasksRunnerApplication    : No active profile set, falling back to 1 default profile: "default"
2022-05-21 15:06:19.611  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-05-21 15:06:19.683  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 0 MongoDB repository interfaces.
2022-05-21 15:06:20.489  INFO 7 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9400 (https)
2022-05-21 15:06:20.500  INFO 7 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-05-21 15:06:20.501  INFO 7 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2022-05-21 15:06:20.564  INFO 7 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-05-21 15:06:20.565  INFO 7 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1831 ms
2022-05-21 15:06:20.868  INFO 7 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: d05eaf27-d2da-4937-a8b2-72dd928942be

2022-05-21 15:06:21.060  INFO 7 --- [           main] o.s.s.w.a.c.ChannelProcessingFilter      : Validated configuration attributes
2022-05-21 15:06:21.103  INFO 7 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2022-05-21 15:06:21.514  WARN 7 --- [           main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-05-21 15:06:22.766  INFO 7 --- [           main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-05-21 15:06:22.870  INFO 7 --- [localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.4.2.jar!/:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.4.2.jar!/:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.2.jar!/:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.2.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.4.2.jar!/:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.4.2.jar!/:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.4.2.jar!/:na]
	... 4 common frames omitted

2022-05-21 15:06:22.885  WARN 7 --- [           main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-05-21 15:06:24.135  INFO 7 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9400 (https) with context path ''
2022-05-21 15:06:24.152  INFO 7 --- [           main] edu.umass.ciir.TasksRunnerApplication    : Started TasksRunnerApplication in 6.106 seconds (JVM running for 6.667)
2022-05-21 15:06:31.997  INFO 7 --- [nio-9400-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-05-21 15:06:31.998  INFO 7 --- [nio-9400-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-05-21 15:06:31.999  INFO 7 --- [nio-9400-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-05-21 15:06:32.047  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : GET /submissions
2022-05-21 15:06:35.214  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : POST /searches
2022-05-21 15:06:36.181  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping IE pre-training
2022-05-21 15:06:36.182  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-21 15:06:36.182  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-21 15:06:36.198  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-21 15:06:36.201  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-21 15:06:36.215  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Not using the supplemental task definition file
2022-05-21 15:06:36.218  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing in HITL mode
2022-05-21 15:06:36.237  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:06:36.238  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:06:36.240  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:06:36.245  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:06:36.248  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 50 docids
2022-05-21 15:06:36.249  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-21 15:06:36.249  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping example doc event annotation
2022-05-21 15:06:36.250  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-21 15:06:36.251 ERROR 7 --- [nio-9400-exec-7] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-21 15:06:36.256  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-21 15:06:36.265  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building queries
2022-05-21 15:06:36.337  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ARABIC --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-task-noun-phrases:2.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-21 15:06:44.419  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderTaskNounPhrases-2.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0
3: ARABIC
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-21 15:06:44.420  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing queries
2022-05-21 15:06:44.423  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:06:44.424  INFO 7 --- [nio-9400-exec-7] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
2022-05-21 15:06:44.425  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:06:44.426  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:06:44.427  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:06:44.429  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:06:44.430  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 50 docids
2022-05-21 15:06:44.432  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Start Galago search
2022-05-21 15:06:45.113  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : End Galago search
2022-05-21 15:06:45.113  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:06:45.116  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:06:45.116  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 50 docids
2022-05-21 15:06:45.120  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building document map for 50 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/arabic/arabic-corpus.jl
2022-05-21 15:06:45.121  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Using corpus file scan method
2022-05-21 15:06:46.711  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Document map complete
2022-05-21 15:06:46.743  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-21 15:06:46.765  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH= MODELS_BASE_DIR_ARABIC= MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ARABIC >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-21 15:06:46.783  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

set +e
for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ARABIC} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-B-BOS ./run.sh.ARABIC
#    cp ${APP_DIR}/results.json ${f}.results.json
     cp ${f} ${f}.results.json
done
set -e

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e
#
#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sat May 21 15:06:46 UTC 2022


2022-05-21 15:06:46.784  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:06:46.785  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:06:46.787  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:06:46.787  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 50 docids
2022-05-21 15:06:46.789  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.json.results.json
2022-05-21 15:06:46.845  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.events.json written
2022-05-21 15:06:46.846  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : PROCESSING COMPLETE
2022-05-21 15:08:10.398  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : GET /submissions
2022-05-21 15:08:10.451  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : POST /searches
2022-05-21 15:08:10.452  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping IE pre-training
2022-05-21 15:08:10.453  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-21 15:08:10.453  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-21 15:08:10.455  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-21 15:08:10.456  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-21 15:08:10.458  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Not using the supplemental task definition file
2022-05-21 15:08:10.459  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing in HITL mode
2022-05-21 15:08:10.459  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:08:10.460  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:08:10.461  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:08:10.462  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:08:10.462  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : 50 docids
2022-05-21 15:08:10.463  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-21 15:08:10.463  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping example doc event annotation
2022-05-21 15:08:10.464  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-21 15:08:10.465 ERROR 7 --- [nio-9400-exec-6] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-21 15:08:10.466  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-21 15:08:10.468  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Building queries
2022-05-21 15:08:10.468  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ARABIC --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-task-noun-phrases:2.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-21 15:08:18.672  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderTaskNounPhrases-2.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0
3: ARABIC
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-21 15:08:18.673  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing queries
2022-05-21 15:08:18.674  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:08:18.674  INFO 7 --- [nio-9400-exec-6] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
2022-05-21 15:08:18.675  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:08:18.675  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:08:18.680  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:08:18.681  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:08:18.682  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : 50 docids
2022-05-21 15:08:18.682  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Start Galago search
2022-05-21 15:08:18.963  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : End Galago search
2022-05-21 15:08:18.964  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:08:18.965  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:08:18.965  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : 50 docids
2022-05-21 15:08:18.965  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Building document map for 50 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/arabic/arabic-corpus.jl
2022-05-21 15:08:18.966  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Using corpus file scan method
2022-05-21 15:08:20.058  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Document map complete
2022-05-21 15:08:20.073  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-21 15:08:20.074  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH= MODELS_BASE_DIR_ARABIC= MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ARABIC >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-21 15:08:20.087  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

set +e
for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ARABIC} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-B-BOS ./run.sh.ARABIC
#    cp ${APP_DIR}/results.json ${f}.results.json
     cp ${f} ${f}.results.json
done
set -e

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e
#
#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sat May 21 15:08:20 UTC 2022


2022-05-21 15:08:20.087  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:08:20.088  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:08:20.088  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:08:20.089  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : 50 docids
2022-05-21 15:08:20.089  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.json.results.json
2022-05-21 15:08:20.110  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.events.json written
2022-05-21 15:08:20.111  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : PROCESSING COMPLETE
2022-05-21 15:10:51.011  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : GET /submissions
2022-05-21 15:10:51.043  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : POST /searches
2022-05-21 15:10:51.043  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Skipping IE pre-training
2022-05-21 15:10:51.044  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-21 15:10:51.045  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-21 15:10:51.047  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-21 15:10:51.048  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-21 15:10:51.049  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Not using the supplemental task definition file
2022-05-21 15:10:51.050  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing in HITL mode
2022-05-21 15:10:51.050  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:10:51.051  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:10:51.052  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:10:51.052  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:10:51.053  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : 50 docids
2022-05-21 15:10:51.053  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-21 15:10:51.053  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Skipping example doc event annotation
2022-05-21 15:10:51.054  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-21 15:10:51.054 ERROR 7 --- [nio-9400-exec-5] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-21 15:10:51.055  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-21 15:10:51.057  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Building queries
2022-05-21 15:10:51.057  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ARABIC --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-task-noun-phrases:2.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-21 15:10:59.329  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderTaskNounPhrases-2.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0
3: ARABIC
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-21 15:10:59.329  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing queries
2022-05-21 15:10:59.330  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:10:59.331  INFO 7 --- [nio-9400-exec-5] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
2022-05-21 15:10:59.331  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:10:59.332  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:10:59.332  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:10:59.333  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:10:59.333  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : 50 docids
2022-05-21 15:10:59.334  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Start Galago search
2022-05-21 15:10:59.643  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : End Galago search
2022-05-21 15:10:59.643  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:10:59.645  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:10:59.645  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : 50 docids
2022-05-21 15:10:59.645  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Building document map for 50 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/arabic/arabic-corpus.jl
2022-05-21 15:10:59.646  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Using corpus file scan method
2022-05-21 15:11:00.511  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Document map complete
2022-05-21 15:11:00.526  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-21 15:11:00.526  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH= MODELS_BASE_DIR_ARABIC= MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ARABIC >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-21 15:11:00.542  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

set +e
for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ARABIC} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-B-BOS ./run.sh.ARABIC
#    cp ${APP_DIR}/results.json ${f}.results.json
     cp ${f} ${f}.results.json
done
set -e

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e
#
#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sat May 21 15:11:00 UTC 2022


2022-05-21 15:11:00.542  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:11:00.543  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:11:00.544  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:11:00.544  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : 50 docids
2022-05-21 15:11:00.545  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.json.results.json
2022-05-21 15:11:00.567  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.events.json written
2022-05-21 15:11:00.568  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : PROCESSING COMPLETE
2022-05-21 15:20:07.865  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : GET /submissions
2022-05-21 15:20:07.918  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : POST /searches
2022-05-21 15:20:07.918  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Skipping IE pre-training
2022-05-21 15:20:07.919  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-21 15:20:07.920  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-21 15:20:07.923  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-21 15:20:07.924  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-21 15:20:07.926  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Not using the supplemental task definition file
2022-05-21 15:20:07.926  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Executing in HITL mode
2022-05-21 15:20:07.926  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:20:07.927  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:20:07.927  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:20:07.928  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:20:07.928  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : 50 docids
2022-05-21 15:20:07.928  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-21 15:20:07.929  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Skipping example doc event annotation
2022-05-21 15:20:07.929  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-21 15:20:07.929 ERROR 7 --- [nio-9400-exec-4] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-21 15:20:07.930  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-21 15:20:07.931  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Building queries
2022-05-21 15:20:07.931  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ARABIC --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-task-noun-phrases:2.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-21 15:20:16.160  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderTaskNounPhrases-2.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0
3: ARABIC
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-21 15:20:16.161  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Executing queries
2022-05-21 15:20:16.162  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:20:16.162  INFO 7 --- [nio-9400-exec-4] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-task-noun-phrases:2.0.0
2022-05-21 15:20:16.163  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json
2022-05-21 15:20:16.163  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.queries.json.NON_TRANSLATED
2022-05-21 15:20:16.164  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:20:16.165  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:20:16.165  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : 50 docids
2022-05-21 15:20:16.165  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Start Galago search
2022-05-21 15:20:16.418  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : End Galago search
2022-05-21 15:20:16.418  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:20:16.419  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:20:16.419  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : 50 docids
2022-05-21 15:20:16.420  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Building document map for 50 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/arabic/arabic-corpus.jl
2022-05-21 15:20:16.420  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Using corpus file scan method
2022-05-21 15:20:17.184  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Document map complete
2022-05-21 15:20:17.200  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-21 15:20:17.200  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH= MODELS_BASE_DIR_ARABIC= MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ARABIC >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-21 15:20:17.213  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

set +e
for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ARABIC} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-B-BOS ./run.sh.ARABIC
#    cp ${APP_DIR}/results.json ${f}.results.json
     cp ${f} ${f}.results.json
done
set -e

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e
#
#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sat May 21 15:20:17 UTC 2022


2022-05-21 15:20:17.214  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:20:17.214  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-task-noun-phrases:2.0.0.out
2022-05-21 15:20:17.215  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Adding a RequestRun for Request 6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f
2022-05-21 15:20:17.216  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : 50 docids
2022-05-21 15:20:17.216  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.json.results.json
2022-05-21 15:20:17.241  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6287e84c2a97913d6a8a732c-6287e8942a97913d6a8a732f.REQUESTHITS.events.json written
2022-05-21 15:20:17.242  INFO 7 --- [nio-9400-exec-4] TasksRunner                              : PROCESSING COMPLETE
2022-05-21 20:28:08.931  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : POST /searches
2022-05-21 20:28:08.932  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Skipping IE pre-training
2022-05-21 20:28:08.932  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-21 20:28:08.933  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-21 20:28:08.934  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-21 20:28:08.935  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-21 20:28:08.935  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Not using the supplemental task definition file
2022-05-21 20:28:08.935  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing in HITL mode
2022-05-21 20:28:08.936  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-21 20:28:08.936  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-21 20:28:08.936  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-21 20:28:08.937  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-21 20:28:08.937  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Skipping example doc event annotation
2022-05-21 20:28:08.937  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-21 20:28:08.937 ERROR 7 --- [nio-9400-exec-2] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-21 20:28:08.937  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-21 20:28:08.938  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Building queries
2022-05-21 20:28:08.938  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ARABIC --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-21 20:28:12.051  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ARABIC
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-21 20:28:12.052  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing queries
2022-05-21 20:28:12.053  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-21 20:28:12.053  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH= MODELS_BASE_DIR_ARABIC= MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ARABIC >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-21 20:28:12.066  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

set +e
for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ARABIC} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-B-BOS ./run.sh.ARABIC
#    cp ${APP_DIR}/results.json ${f}.results.json
     cp ${f} ${f}.results.json
done
cp: cannot stat '/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.*.REQUESTHITS.json': No such file or directory
set -e

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e
#
#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sat May 21 20:28:12 UTC 2022


2022-05-21 20:28:12.066  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-21 20:28:12.067  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-21 20:28:12.067  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : PROCESSING COMPLETE
2022-05-21 20:31:07.577  INFO 7 --- [io-9400-exec-10] TasksRunner                              : POST /searches
2022-05-21 20:31:07.578  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping IE pre-training
2022-05-21 20:31:07.578  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-21 20:31:07.578  INFO 7 --- [io-9400-exec-10] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-21 20:31:07.580  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-21 20:31:07.581  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-21 20:31:07.581  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Not using the supplemental task definition file
2022-05-21 20:31:07.582  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing in HITL mode
2022-05-21 20:31:07.582  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-21 20:31:07.582  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-21 20:31:07.583  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-21 20:31:07.583  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 6289499b268ef31f7dbbdd99_DUMMY
2022-05-21 20:31:07.584  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-21 20:31:07.584  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-21 20:31:07.584  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping example doc event annotation
2022-05-21 20:31:07.585  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-21 20:31:07.585 ERROR 7 --- [io-9400-exec-10] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-21 20:31:07.585  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-21 20:31:07.586  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Building queries
2022-05-21 20:31:07.586  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-21 20:31:10.682  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-21 20:31:10.683  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing queries
2022-05-21 20:31:10.683  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-21 20:31:10.684  INFO 7 --- [io-9400-exec-10] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-21 20:31:10.684  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-21 20:31:10.685  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-21 20:31:10.685  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-21 20:31:10.685  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 6289499b268ef31f7dbbdd99_DUMMY
2022-05-21 20:31:10.686  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-21 20:31:10.686  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Start Galago search
2022-05-21 20:31:10.775  INFO 7 --- [io-9400-exec-10] TasksRunner                              : End Galago search
2022-05-21 20:31:10.775  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-21 20:31:10.776  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 62894c09d0131a5fa75e69d0_DUMMY
2022-05-21 20:31:10.777  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-21 20:31:10.778  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-21 20:31:10.779  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Using Galago method
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.xerial.snappy.SnappyLoader (jar:file:/home/tasksrunner/target/tasks-runner-5.0.0.jar!/BOOT-INF/lib/snappy-java-1.0.5-M4.jar!/) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
WARNING: Please consider reporting this to the maintainers of org.xerial.snappy.SnappyLoader
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2022-05-21 20:31:10.840  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Starting spacy sentence daemon
2022-05-21 20:31:14.293  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Document map complete
2022-05-21 20:31:14.297  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-21 20:31:14.297  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-21 20:31:14.316  INFO 7 --- [io-9400-exec-10] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sat May 21 20:31:14 UTC 2022


2022-05-21 20:31:14.316  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-21 20:31:14.317  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-21 20:31:14.317  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 62894c09d0131a5fa75e69d0_DUMMY
2022-05-21 20:31:14.317  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-21 20:31:14.318  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.62894c09d0131a5fa75e69d0_DUMMY.REQUESTHITS.json.results.json
2022-05-21 20:31:14.325  INFO 7 --- [io-9400-exec-10] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.62894c09d0131a5fa75e69d0_DUMMY.REQUESTHITS.events.json written
2022-05-21 20:31:14.325  INFO 7 --- [io-9400-exec-10] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:24:08.820  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : POST /searches
2022-05-22 01:24:08.821  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:24:08.821  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:24:08.821  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:24:08.823  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:24:08.823  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:24:08.824  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:24:08.824  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing in HITL mode
2022-05-22 01:24:08.825  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:24:08.825  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:24:08.826  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:24:08.826  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:24:08.826  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:24:08.827  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:24:08.827 ERROR 7 --- [nio-9400-exec-8] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:24:08.827  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:24:08.828  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building queries
2022-05-22 01:24:08.829  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:24:12.066  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:24:12.067  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing queries
2022-05-22 01:24:12.068  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:24:12.068  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:24:12.082  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:24:12 UTC 2022


2022-05-22 01:24:12.082  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:24:12.083  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:24:12.083  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:28:39.983  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : POST /searches
2022-05-22 01:28:39.983  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:28:39.984  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:28:39.984  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:28:39.987  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:28:39.988  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:28:39.989  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:28:39.989  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing in HITL mode
2022-05-22 01:28:39.990  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:28:39.990  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:28:39.990  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:28:39.991  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:28:39.991  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:28:39.991  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:28:39.992 ERROR 7 --- [nio-9400-exec-6] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:28:39.992  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:28:39.992  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Building queries
2022-05-22 01:28:39.993  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:28:43.167  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:28:43.167  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing queries
2022-05-22 01:28:43.168  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:28:43.169  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:28:43.184  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:28:43 UTC 2022


2022-05-22 01:28:43.185  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:28:43.185  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:28:43.185  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:28:43.220  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : POST /searches
2022-05-22 01:28:43.221  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:28:43.221  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:28:43.222  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:28:43.224  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:28:43.224  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:28:43.225  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:28:43.225  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing in HITL mode
2022-05-22 01:28:43.226  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:28:43.226  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:28:43.226  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:28:43.227  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:28:43.227  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:28:43.227  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:28:43.228 ERROR 7 --- [nio-9400-exec-7] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:28:43.228  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:28:43.229  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building queries
2022-05-22 01:28:43.229  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:28:46.482  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:28:46.482  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing queries
2022-05-22 01:28:46.483  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:28:46.483  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:28:46.497  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:28:46 UTC 2022


2022-05-22 01:28:46.497  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:28:46.498  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:28:46.498  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:32:23.512  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : POST /searches
2022-05-22 01:32:23.512  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:32:23.512  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:32:23.513  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:32:23.514  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:32:23.514  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:32:23.515  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:32:23.515  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing in HITL mode
2022-05-22 01:32:23.515  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:32:23.515  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:32:23.516  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:32:23.516  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:32:23.516  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:32:23.516  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:32:23.517 ERROR 7 --- [nio-9400-exec-5] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:32:23.517  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:32:23.517  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Building queries
2022-05-22 01:32:23.518  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:32:26.701  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:32:26.701  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing queries
2022-05-22 01:32:26.702  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:32:26.702  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:32:26.717  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:32:26 UTC 2022


2022-05-22 01:32:26.718  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:32:26.718  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:32:26.718  INFO 7 --- [nio-9400-exec-5] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:35:03.926  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : POST /searches
2022-05-22 01:35:03.926  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:35:03.927  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:35:03.927  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:35:03.928  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:35:03.929  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:35:03.929  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:35:03.929  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Executing in HITL mode
2022-05-22 01:35:03.930  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:35:03.930  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:35:03.930  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:35:03.931  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:35:03.931  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:35:03.931  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:35:03.932 ERROR 7 --- [nio-9400-exec-3] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:35:03.932  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:35:03.932  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Building queries
2022-05-22 01:35:03.933  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:35:07.091  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:35:07.092  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Executing queries
2022-05-22 01:35:07.093  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:35:07.093  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:35:07.108  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:35:07 UTC 2022


2022-05-22 01:35:07.109  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:35:07.109  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:35:07.110  INFO 7 --- [nio-9400-exec-3] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:37:33.956  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : POST /searches
2022-05-22 01:37:33.957  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:37:33.958  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:37:33.958  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:37:33.961  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:37:33.961  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:37:33.962  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:37:33.963  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing in HITL mode
2022-05-22 01:37:33.963  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:37:33.964  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:37:33.964  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:37:33.965  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 62894c09d0131a5fa75e69d0_DUMMY
2022-05-22 01:37:33.965  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:37:33.966  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:37:33.966  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:37:33.966  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:37:33.967 ERROR 7 --- [nio-9400-exec-8] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:37:33.967  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:37:33.968  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building queries
2022-05-22 01:37:33.969  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:37:36.627  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:37:36.627  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing queries
2022-05-22 01:37:36.628  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:37:36.628  INFO 7 --- [nio-9400-exec-8] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 01:37:36.628  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:37:36.629  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:37:36.629  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:37:36.629  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 62894c09d0131a5fa75e69d0_DUMMY
2022-05-22 01:37:36.630  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:37:36.630  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Start Galago search
2022-05-22 01:37:36.715  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : End Galago search
2022-05-22 01:37:36.715  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:37:36.716  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 628993dba5e0336228d307f4_DUMMY
2022-05-22 01:37:36.716  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:37:36.716  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 01:37:36.717  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Using Galago method
2022-05-22 01:37:38.253  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Document map complete
2022-05-22 01:37:38.259  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:37:38.260  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:37:38.277  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:37:38 UTC 2022


2022-05-22 01:37:38.278  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:37:38.278  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:37:38.279  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 628993dba5e0336228d307f4_DUMMY
2022-05-22 01:37:38.279  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:37:38.279  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.628993dba5e0336228d307f4_DUMMY.REQUESTHITS.json.results.json
2022-05-22 01:37:38.284  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.628993dba5e0336228d307f4_DUMMY.REQUESTHITS.events.json written
2022-05-22 01:37:38.285  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:44:33.954  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : POST /searches
2022-05-22 01:44:33.955  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:44:33.955  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:44:33.956  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:44:33.958  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:44:33.958  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:44:33.959  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:44:33.960  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing in HITL mode
2022-05-22 01:44:33.960  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:44:33.961  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:44:33.961  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:33.962  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:44:33.962  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:44:33.963  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:44:33.963 ERROR 7 --- [nio-9400-exec-6] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:44:33.963  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:44:33.964  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Building queries
2022-05-22 01:44:33.965  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:44:37.165  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:44:37.165  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing queries
2022-05-22 01:44:37.166  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:44:37.166  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:44:37.182  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:44:37 UTC 2022


2022-05-22 01:44:37.182  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:37.183  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:37.183  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:44:37.224  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : POST /searches
2022-05-22 01:44:37.225  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:44:37.225  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:44:37.225  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:44:37.227  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:44:37.228  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:44:37.228  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:44:37.229  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing in HITL mode
2022-05-22 01:44:37.229  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:44:37.229  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:44:37.230  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:37.230  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:44:37.231  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:44:37.231  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:44:37.232 ERROR 7 --- [nio-9400-exec-7] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:44:37.232  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:44:37.233  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building queries
2022-05-22 01:44:37.233  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:44:40.322  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:44:40.322  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing queries
2022-05-22 01:44:40.323  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:44:40.323  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:44:40.342  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:44:40 UTC 2022


2022-05-22 01:44:40.343  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:40.343  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:40.344  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:44:40.355  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : POST /searches
2022-05-22 01:44:40.356  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:44:40.357  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:44:40.358  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:44:40.359  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:44:40.359  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:44:40.360  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:44:40.360  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing in HITL mode
2022-05-22 01:44:40.361  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:44:40.361  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:44:40.361  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:40.362  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:44:40.362  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:44:40.362  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:44:40.363 ERROR 7 --- [nio-9400-exec-8] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:44:40.363  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:44:40.364  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building queries
2022-05-22 01:44:40.365  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:44:43.722  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:44:43.723  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing queries
2022-05-22 01:44:43.723  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:44:43.724  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:44:43.744  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:44:43 UTC 2022


2022-05-22 01:44:43.745  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:43.745  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:44:43.746  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:45:17.517  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : POST /searches
2022-05-22 01:45:17.518  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:45:17.519  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:45:17.520  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:45:17.521  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:45:17.522  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:45:17.523  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:45:17.523  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing in HITL mode
2022-05-22 01:45:17.524  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:45:17.525  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:45:17.525  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:45:17.526  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 628993dba5e0336228d307f4_DUMMY
2022-05-22 01:45:17.527  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 01:45:17.527  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:45:17.528  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:45:17.528  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:45:17.529 ERROR 7 --- [nio-9400-exec-9] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:45:17.529  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:45:17.530  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Building queries
2022-05-22 01:45:17.531  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:45:20.372  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:45:20.372  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing queries
2022-05-22 01:45:20.373  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:45:20.373  INFO 7 --- [nio-9400-exec-9] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 01:45:20.374  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:45:20.374  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:45:20.375  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:45:20.376  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 628993dba5e0336228d307f4_DUMMY
2022-05-22 01:45:20.376  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 01:45:20.377  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Start Galago search
2022-05-22 01:45:20.447  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : End Galago search
2022-05-22 01:45:20.448  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:45:20.448  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 628995adfc275e765398b15e_DUMMY
2022-05-22 01:45:20.448  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 01:45:20.449  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 01:45:20.449  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Using Galago method
2022-05-22 01:45:21.849  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Document map complete
2022-05-22 01:45:21.856  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:45:21.857  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:45:21.878  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:45:21 UTC 2022


2022-05-22 01:45:21.879  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:45:21.880  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:45:21.881  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 628995adfc275e765398b15e_DUMMY
2022-05-22 01:45:21.881  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 01:45:21.882  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.628995adfc275e765398b15e_DUMMY.REQUESTHITS.json.results.json
2022-05-22 01:45:21.892  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.628995adfc275e765398b15e_DUMMY.REQUESTHITS.events.json written
2022-05-22 01:45:21.893  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:47:43.137  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : POST /searches
2022-05-22 01:47:43.137  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:47:43.138  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:47:43.138  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:47:43.139  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:47:43.139  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:47:43.140  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:47:43.140  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing in HITL mode
2022-05-22 01:47:43.141  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:47:43.141  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:47:43.141  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:47:43.142  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:47:43.142  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:47:43.142  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:47:43.143 ERROR 7 --- [nio-9400-exec-7] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:47:43.143  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:47:43.143  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building queries
2022-05-22 01:47:43.144  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:47:46.320  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:47:46.321  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing queries
2022-05-22 01:47:46.322  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:47:46.323  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:47:46.342  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:47:46 UTC 2022


2022-05-22 01:47:46.343  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:47:46.343  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:47:46.344  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:48:06.797  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : POST /searches
2022-05-22 01:48:06.798  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:48:06.798  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:48:06.798  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:48:06.800  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:48:06.800  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:48:06.801  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:48:06.802  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing in HITL mode
2022-05-22 01:48:06.802  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:48:06.803  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:48:06.804  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:48:06.804  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 628995adfc275e765398b15e_DUMMY
2022-05-22 01:48:06.805  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:48:06.805  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:48:06.806  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:48:06.806  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:48:06.807 ERROR 7 --- [nio-9400-exec-8] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:48:06.807  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:48:06.808  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building queries
2022-05-22 01:48:06.809  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:48:09.768  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:48:09.768  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing queries
2022-05-22 01:48:09.769  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:48:09.770  INFO 7 --- [nio-9400-exec-8] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 01:48:09.770  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:48:09.771  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:48:09.771  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:48:09.772  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 628995adfc275e765398b15e_DUMMY
2022-05-22 01:48:09.772  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:48:09.773  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Start Galago search
2022-05-22 01:48:09.843  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : End Galago search
2022-05-22 01:48:09.843  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:48:09.844  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 628996566938147ddd15665c_DUMMY
2022-05-22 01:48:09.845  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:48:09.845  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 01:48:09.846  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Using Galago method
2022-05-22 01:48:11.296  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Document map complete
2022-05-22 01:48:11.300  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:48:11.301  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:48:11.327  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:48:11 UTC 2022


2022-05-22 01:48:11.328  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:48:11.329  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:48:11.329  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 628996566938147ddd15665c_DUMMY
2022-05-22 01:48:11.330  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 01:48:11.331  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.628996566938147ddd15665c_DUMMY.REQUESTHITS.json.results.json
2022-05-22 01:48:11.337  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.628996566938147ddd15665c_DUMMY.REQUESTHITS.events.json written
2022-05-22 01:48:11.338  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:51:04.638  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : POST /searches
2022-05-22 01:51:04.639  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:51:04.639  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:51:04.640  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:51:04.641  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:51:04.641  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:51:04.641  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:51:04.642  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing in HITL mode
2022-05-22 01:51:04.642  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 01:51:04.642  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:51:04.643  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:51:04.643  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:51:04.643  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:51:04.644  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:51:04.644 ERROR 7 --- [nio-9400-exec-6] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:51:04.644  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:51:04.645  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Building queries
2022-05-22 01:51:04.645  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:51:08.101  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:51:08.101  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing queries
2022-05-22 01:51:08.102  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:51:08.102  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:51:08.127  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:51:08 UTC 2022


2022-05-22 01:51:08.127  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:51:08.127  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 01:51:08.128  INFO 7 --- [nio-9400-exec-6] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:51:23.978  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : POST /searches
2022-05-22 01:51:23.978  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:51:23.979  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:51:23.979  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:51:23.981  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:51:23.982  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:51:23.983  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:51:23.983  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing in HITL mode
2022-05-22 01:51:23.984  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:51:23.984  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:51:23.985  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:51:23.986  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 628996566938147ddd15665c_DUMMY
2022-05-22 01:51:23.986  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 10 docids
2022-05-22 01:51:23.987  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:51:23.987  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:51:23.988  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:51:23.988 ERROR 7 --- [nio-9400-exec-7] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:51:23.989  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:51:23.990  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building queries
2022-05-22 01:51:23.990  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:51:26.633  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:51:26.634  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing queries
2022-05-22 01:51:26.635  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:51:26.636  INFO 7 --- [nio-9400-exec-7] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 01:51:26.637  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:51:26.638  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:51:26.639  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:51:26.640  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 628996566938147ddd15665c_DUMMY
2022-05-22 01:51:26.640  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 10 docids
2022-05-22 01:51:26.641  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Start Galago search
2022-05-22 01:51:26.693  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : End Galago search
2022-05-22 01:51:26.694  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:51:26.694  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 6289971bed5e6b501d189669_DUMMY
2022-05-22 01:51:26.695  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 10 docids
2022-05-22 01:51:26.695  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 01:51:26.695  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Using Galago method
2022-05-22 01:51:28.144  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Document map complete
2022-05-22 01:51:28.148  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:51:28.149  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:51:28.196  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:51:28 UTC 2022


2022-05-22 01:51:28.197  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:51:28.197  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:51:28.198  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Adding a RequestRun for Request 6289971bed5e6b501d189669_DUMMY
2022-05-22 01:51:28.199  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : 10 docids
2022-05-22 01:51:28.199  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289971bed5e6b501d189669_DUMMY.REQUESTHITS.json.results.json
2022-05-22 01:51:28.208  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289971bed5e6b501d189669_DUMMY.REQUESTHITS.events.json written
2022-05-22 01:51:28.209  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 01:52:34.384  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : POST /searches
2022-05-22 01:52:34.385  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Skipping IE pre-training
2022-05-22 01:52:34.386  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 01:52:34.386  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 01:52:34.388  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 01:52:34.388  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 01:52:34.389  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 01:52:34.390  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing in HITL mode
2022-05-22 01:52:34.390  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:52:34.391  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:52:34.391  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:52:34.392  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 6289971bed5e6b501d189669_DUMMY
2022-05-22 01:52:34.393  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 01:52:34.393  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 01:52:34.394  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Skipping example doc event annotation
2022-05-22 01:52:34.394  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 01:52:34.395 ERROR 7 --- [nio-9400-exec-2] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 01:52:34.395  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 01:52:34.396  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Building queries
2022-05-22 01:52:34.397  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 01:52:37.318  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 01:52:37.318  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing queries
2022-05-22 01:52:37.319  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:52:37.320  INFO 7 --- [nio-9400-exec-2] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 01:52:37.320  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 01:52:37.321  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 01:52:37.321  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:52:37.322  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 6289971bed5e6b501d189669_DUMMY
2022-05-22 01:52:37.323  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 01:52:37.323  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Start Galago search
2022-05-22 01:52:37.383  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : End Galago search
2022-05-22 01:52:37.383  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:52:37.384  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 6289974eed5e6b501d18966b_DUMMY
2022-05-22 01:52:37.384  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 01:52:37.385  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 01:52:37.385  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Using Galago method
2022-05-22 01:52:38.876  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Document map complete
2022-05-22 01:52:38.880  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 01:52:38.881  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 01:52:38.907  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 01:52:38 UTC 2022


2022-05-22 01:52:38.908  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:52:38.908  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 01:52:38.910  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 6289974eed5e6b501d18966b_DUMMY
2022-05-22 01:52:38.910  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 01:52:38.911  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289974eed5e6b501d18966b_DUMMY.REQUESTHITS.json.results.json
2022-05-22 01:52:38.920  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289974eed5e6b501d18966b_DUMMY.REQUESTHITS.events.json written
2022-05-22 01:52:38.921  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:17:04.937  INFO 7 --- [io-9400-exec-10] TasksRunner                              : POST /searches
2022-05-22 02:17:04.938  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:17:04.939  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:17:04.940  INFO 7 --- [io-9400-exec-10] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:17:04.942  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:17:04.943  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:17:04.944  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:17:04.944  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing in HITL mode
2022-05-22 02:17:04.945  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 02:17:04.945  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:17:04.945  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:17:04.946  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:17:04.946  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:17:04.946  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:17:04.947 ERROR 7 --- [io-9400-exec-10] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:17:04.947  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:17:04.948  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Building queries
2022-05-22 02:17:04.948  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:17:08.218  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:17:08.218  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing queries
2022-05-22 02:17:08.219  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:17:08.219  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:17:08.253  INFO 7 --- [io-9400-exec-10] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:17:08 UTC 2022


2022-05-22 02:17:08.253  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:17:08.254  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:17:08.254  INFO 7 --- [io-9400-exec-10] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:17:08.293  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : POST /searches
2022-05-22 02:17:08.294  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:17:08.294  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:17:08.295  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:17:08.296  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:17:08.297  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:17:08.297  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:17:08.298  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing in HITL mode
2022-05-22 02:17:08.298  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 02:17:08.298  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:17:08.299  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:17:08.299  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:17:08.299  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:17:08.300  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:17:08.300 ERROR 7 --- [nio-9400-exec-1] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:17:08.300  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:17:08.301  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Building queries
2022-05-22 02:17:08.302  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:17:11.525  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:17:11.526  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing queries
2022-05-22 02:17:11.527  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:17:11.527  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:17:11.561  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:17:11 UTC 2022


2022-05-22 02:17:11.562  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:17:11.563  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:17:11.564  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:17:45.257  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : POST /searches
2022-05-22 02:17:45.257  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:17:45.258  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:17:45.259  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:17:45.260  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:17:45.261  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:17:45.262  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:17:45.262  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing in HITL mode
2022-05-22 02:17:45.263  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:17:45.264  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:17:45.264  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:17:45.265  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 6289974eed5e6b501d18966b_DUMMY
2022-05-22 02:17:45.266  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 02:17:45.266  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:17:45.267  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:17:45.267  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:17:45.268 ERROR 7 --- [nio-9400-exec-2] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:17:45.269  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:17:45.269  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Building queries
2022-05-22 02:17:45.270  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:17:47.867  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:17:47.868  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing queries
2022-05-22 02:17:47.868  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:17:47.869  INFO 7 --- [nio-9400-exec-2] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 02:17:47.870  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:17:47.870  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:17:47.871  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:17:47.871  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 6289974eed5e6b501d18966b_DUMMY
2022-05-22 02:17:47.872  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 02:17:47.872  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Start Galago search
2022-05-22 02:17:47.950  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : End Galago search
2022-05-22 02:17:47.950  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:17:47.951  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 62899d46222f7c4fdfda10c4_DUMMY
2022-05-22 02:17:47.951  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 02:17:47.952  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 02:17:47.952  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Using Galago method
2022-05-22 02:17:49.331  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Document map complete
2022-05-22 02:17:49.334  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:17:49.334  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:17:49.368  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:17:49 UTC 2022


2022-05-22 02:17:49.369  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:17:49.370  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:17:49.371  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Adding a RequestRun for Request 62899d46222f7c4fdfda10c4_DUMMY
2022-05-22 02:17:49.372  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : 10 docids
2022-05-22 02:17:49.373  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.62899d46222f7c4fdfda10c4_DUMMY.REQUESTHITS.json.results.json
2022-05-22 02:17:49.379  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.62899d46222f7c4fdfda10c4_DUMMY.REQUESTHITS.events.json written
2022-05-22 02:17:49.380  INFO 7 --- [nio-9400-exec-2] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:23:23.723  INFO 7 --- [io-9400-exec-10] TasksRunner                              : POST /searches
2022-05-22 02:23:23.724  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:23:23.724  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:23:23.725  INFO 7 --- [io-9400-exec-10] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:23:23.726  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:23:23.727  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:23:23.728  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:23:23.728  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing in HITL mode
2022-05-22 02:23:23.729  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 02:23:23.729  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:23:23.730  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:23:23.730  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:23:23.731  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:23:23.731  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:23:23.732 ERROR 7 --- [io-9400-exec-10] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:23:23.733  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:23:23.733  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Building queries
2022-05-22 02:23:23.734  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:23:26.917  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:23:26.917  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing queries
2022-05-22 02:23:26.918  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:23:26.919  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:23:26.953  INFO 7 --- [io-9400-exec-10] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:23:26 UTC 2022


2022-05-22 02:23:26.954  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:23:26.954  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:23:26.955  INFO 7 --- [io-9400-exec-10] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:23:57.846  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : POST /searches
2022-05-22 02:23:57.847  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:23:57.847  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:23:57.848  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:23:57.850  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:23:57.851  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:23:57.851  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:23:57.852  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing in HITL mode
2022-05-22 02:23:57.853  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:23:57.853  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:23:57.854  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:23:57.855  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Adding a RequestRun for Request 62899d46222f7c4fdfda10c4_DUMMY
2022-05-22 02:23:57.855  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : 10 docids
2022-05-22 02:23:57.856  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:23:57.857  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:23:57.857  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:23:57.858 ERROR 7 --- [nio-9400-exec-1] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:23:57.858  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:23:57.859  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Building queries
2022-05-22 02:23:57.860  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:24:00.618  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:24:00.619  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing queries
2022-05-22 02:24:00.620  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:24:00.620  INFO 7 --- [nio-9400-exec-1] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 02:24:00.621  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:24:00.622  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:24:00.623  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:24:00.624  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Adding a RequestRun for Request 62899d46222f7c4fdfda10c4_DUMMY
2022-05-22 02:24:00.625  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : 10 docids
2022-05-22 02:24:00.625  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Start Galago search
2022-05-22 02:24:00.695  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : End Galago search
2022-05-22 02:24:00.695  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:24:00.696  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Adding a RequestRun for Request 62899ebb9e1d4b0d1cc6faef_DUMMY
2022-05-22 02:24:00.696  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : 10 docids
2022-05-22 02:24:00.697  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 02:24:00.698  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Using Galago method
2022-05-22 02:24:02.366  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Document map complete
2022-05-22 02:24:02.372  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:24:02.373  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:24:02.410  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:24:02 UTC 2022


2022-05-22 02:24:02.410  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:24:02.411  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:24:02.411  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Adding a RequestRun for Request 62899ebb9e1d4b0d1cc6faef_DUMMY
2022-05-22 02:24:02.412  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : 10 docids
2022-05-22 02:24:02.412  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.62899ebb9e1d4b0d1cc6faef_DUMMY.REQUESTHITS.json.results.json
2022-05-22 02:24:02.417  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.62899ebb9e1d4b0d1cc6faef_DUMMY.REQUESTHITS.events.json written
2022-05-22 02:24:02.417  INFO 7 --- [nio-9400-exec-1] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:32:28.683  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : POST /searches
2022-05-22 02:32:28.684  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:32:28.685  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:32:28.685  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:32:28.686  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:32:28.687  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:32:28.687  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:32:28.688  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing in HITL mode
2022-05-22 02:32:28.688  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 02:32:28.689  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:32:28.689  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:32:28.689  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:32:28.690  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:32:28.690  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:32:28.691 ERROR 7 --- [nio-9400-exec-9] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:32:28.691  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:32:28.692  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Building queries
2022-05-22 02:32:28.692  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:32:31.936  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:32:31.937  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing queries
2022-05-22 02:32:31.938  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:32:31.938  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:32:31.974  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:32:31 UTC 2022


2022-05-22 02:32:31.975  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:32:31.975  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:32:31.976  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:32:59.692  INFO 7 --- [io-9400-exec-10] TasksRunner                              : POST /searches
2022-05-22 02:32:59.693  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:32:59.694  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:32:59.695  INFO 7 --- [io-9400-exec-10] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:32:59.697  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:32:59.697  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:32:59.698  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:32:59.699  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing in HITL mode
2022-05-22 02:32:59.700  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:32:59.700  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:32:59.701  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:32:59.702  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 62899ebb9e1d4b0d1cc6faef_DUMMY
2022-05-22 02:32:59.703  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-22 02:32:59.703  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:32:59.704  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:32:59.705  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:32:59.705 ERROR 7 --- [io-9400-exec-10] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:32:59.706  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:32:59.707  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Building queries
2022-05-22 02:32:59.708  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:33:02.478  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:33:02.479  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing queries
2022-05-22 02:33:02.480  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:33:02.481  INFO 7 --- [io-9400-exec-10] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 02:33:02.482  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:33:02.483  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:33:02.484  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:33:02.485  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 62899ebb9e1d4b0d1cc6faef_DUMMY
2022-05-22 02:33:02.485  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-22 02:33:02.486  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Start Galago search
2022-05-22 02:33:02.553  INFO 7 --- [io-9400-exec-10] TasksRunner                              : End Galago search
2022-05-22 02:33:02.553  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:33:02.554  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 6289a0db4ad212032da767df_DUMMY
2022-05-22 02:33:02.555  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-22 02:33:02.555  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 02:33:02.556  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Using Galago method
2022-05-22 02:33:04.004  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Document map complete
2022-05-22 02:33:04.009  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:33:04.009  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:33:04.047  INFO 7 --- [io-9400-exec-10] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:33:04 UTC 2022


2022-05-22 02:33:04.048  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:33:04.049  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:33:04.050  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Adding a RequestRun for Request 6289a0db4ad212032da767df_DUMMY
2022-05-22 02:33:04.050  INFO 7 --- [io-9400-exec-10] TasksRunner                              : 10 docids
2022-05-22 02:33:04.051  INFO 7 --- [io-9400-exec-10] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289a0db4ad212032da767df_DUMMY.REQUESTHITS.json.results.json
2022-05-22 02:33:04.056  INFO 7 --- [io-9400-exec-10] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289a0db4ad212032da767df_DUMMY.REQUESTHITS.events.json written
2022-05-22 02:33:04.057  INFO 7 --- [io-9400-exec-10] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:40:58.834  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : POST /searches
2022-05-22 02:40:58.835  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:40:58.836  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:40:58.837  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:40:58.839  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:40:58.840  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:40:58.841  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:40:58.841  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing in HITL mode
2022-05-22 02:40:58.842  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json
2022-05-22 02:40:58.843  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:40:58.843  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:40:58.844  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:40:58.845  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:40:58.846  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:40:58.846 ERROR 7 --- [nio-9400-exec-8] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:40:58.847  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:40:58.848  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building queries
2022-05-22 02:40:58.849  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-phrases:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:41:01.958  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetPhrases-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
Program directory: /home/taskquerybuilder/programfiles/ program name: get_noun_phrases_from_spacy_daemon.py
Program directory: /home/taskquerybuilder/programfiles/ program name: get_sentences_from_spacy_daemon.py
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:41:01.958  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing queries
2022-05-22 02:41:01.959  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:41:01.959  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:41:01.994  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:41:01 UTC 2022


2022-05-22 02:41:01.995  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:41:01.996  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Run file requested does not exist: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-phrases:1.0.0.out
2022-05-22 02:41:01.996  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:41:19.195  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : POST /searches
2022-05-22 02:41:19.196  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:41:19.197  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:41:19.197  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:41:19.199  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:41:19.199  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:41:19.200  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:41:19.200  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing in HITL mode
2022-05-22 02:41:19.201  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:41:19.201  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:41:19.202  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:41:19.203  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 6289a0db4ad212032da767df_DUMMY
2022-05-22 02:41:19.203  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 02:41:19.204  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:41:19.204  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:41:19.205  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:41:19.205 ERROR 7 --- [nio-9400-exec-9] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:41:19.206  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:41:19.206  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Building queries
2022-05-22 02:41:19.207  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:41:22.046  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:41:22.047  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing queries
2022-05-22 02:41:22.048  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:41:22.049  INFO 7 --- [nio-9400-exec-9] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 02:41:22.050  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:41:22.050  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:41:22.051  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:41:22.052  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 6289a0db4ad212032da767df_DUMMY
2022-05-22 02:41:22.053  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 02:41:22.054  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Start Galago search
2022-05-22 02:41:22.133  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : End Galago search
2022-05-22 02:41:22.134  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:41:22.134  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 6289a2cf0509597333de2c09_DUMMY
2022-05-22 02:41:22.135  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 02:41:22.135  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 02:41:22.136  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Using Galago method
2022-05-22 02:41:23.519  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Document map complete
2022-05-22 02:41:23.521  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:41:23.522  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:41:23.565  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:41:23 UTC 2022


2022-05-22 02:41:23.566  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:41:23.566  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:41:23.567  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Adding a RequestRun for Request 6289a2cf0509597333de2c09_DUMMY
2022-05-22 02:41:23.567  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : 10 docids
2022-05-22 02:41:23.568  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289a2cf0509597333de2c09_DUMMY.REQUESTHITS.json.results.json
2022-05-22 02:41:23.573  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289a2cf0509597333de2c09_DUMMY.REQUESTHITS.events.json written
2022-05-22 02:41:23.573  INFO 7 --- [nio-9400-exec-9] TasksRunner                              : PROCESSING COMPLETE
2022-05-22 02:48:49.509  INFO 7 --- [nio-9400-exec-7] TasksRunner                              : GET /submissions
2022-05-22 02:49:20.219  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : POST /searches
2022-05-22 02:49:20.220  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping IE pre-training
2022-05-22 02:49:20.220  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Target index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic already exists, so we will NOT build the target index
2022-05-22 02:49:20.221  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : English index /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english already exists, so we will NOT build the English index
2022-05-22 02:49:20.222  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening the analytic task file, expanding example docs
2022-05-22 02:49:20.222  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening task definition file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ir-tasks.json
2022-05-22 02:49:20.223  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Not using the supplemental task definition file
2022-05-22 02:49:20.223  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing in HITL mode
2022-05-22 02:49:20.224  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:49:20.224  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:49:20.225  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:49:20.226  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 6289a2cf0509597333de2c09_DUMMY
2022-05-22 02:49:20.226  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 02:49:20.227  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Preparing a file of the example docs for the event annotator
2022-05-22 02:49:20.227  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Skipping example doc event annotation
2022-05-22 02:49:20.228  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Retrieving the file of example doc events created by the event annotator
2022-05-22 02:49:20.228 ERROR 7 --- [nio-9400-exec-8] TasksRunner                              : Requested event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.EXAMPLES.json.results.json does not exist!
2022-05-22 02:49:20.229  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Writing analytic_tasks.json to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.analytic_tasks.json
2022-05-22 02:49:20.230  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building queries
2022-05-22 02:49:20.230  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: sudo docker run --rm --env MODE=HITL --env OUT_LANG=ENGLISH --env PHASE=Request --env INPUTFILE=HITL.analytic_tasks.json --env QUERYFILE=HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0 --env eventExtractorFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ --env queryFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ --env logFileLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/ --env galagoLocation=/home/tasksrunner/galago/bin/ -v /home/tasksrunner/galago:/home/tasksrunner/galago --env englishIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english --env targetIndexLocation=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/ -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic --env qrelFile=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels -v /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/:/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/ gregorybrooks/better-query-builder-get-candidate-docs:1.0.0 sh -c ./runit.sh >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/Request.query-formulator.out
2022-05-22 02:49:22.961  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Docker container output log:
java -jar target/BetterQueryBuilderGetCandidateDocuments-1.0.0.jar $eventExtractorFileLocation/$INPUTFILE $MODE $queryFileLocation/$QUERYFILE $OUT_LANG $HOME/programfiles $PHASE $englishIndexLocation $logFileLocation $galagoLocation $qrelFile $targetIndexLocation
0: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles//HITL.analytic_tasks.json
1: HITL
2: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles//HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0
3: ENGLISH
4: /home/taskquerybuilder/programfiles
5: Request
6: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-english/
7: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/
8: /home/tasksrunner/galago/bin/
9: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/qrelfiles/IR-relevance-assessments.qrels
10: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/indexes/better-clear-ir-arabic/
set +e
chmod -f a+rw $queryFileLocation/${QUERYFILE}*
exit 0

2022-05-22 02:49:22.962  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing queries
2022-05-22 02:49:22.963  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Found a query file produced by the query formulator: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:49:22.964  INFO 7 --- [nio-9400-exec-8] TasksRunner                              :   Effective query formulation name is: gregorybrooks/better-query-builder-get-candidate-docs:1.0.0
2022-05-22 02:49:22.964  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json
2022-05-22 02:49:22.965  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading query file: /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/queryfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.queries.json.NON_TRANSLATED
2022-05-22 02:49:22.966  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:49:22.966  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 6289a2cf0509597333de2c09_DUMMY
2022-05-22 02:49:22.967  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 02:49:22.967  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Start Galago search
2022-05-22 02:49:23.017  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : End Galago search
2022-05-22 02:49:23.018  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:49:23.019  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 6289a2cf0509597333de2c09_DUMMY
2022-05-22 02:49:23.019  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 02:49:23.020  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Building document map for 10 docs from corpus file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/english/english-training-corpus.jl
2022-05-22 02:49:23.020  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Using Galago method
2022-05-22 02:49:24.400  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Document map complete
2022-05-22 02:49:24.404  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Extracting events from the top Request-level hits
2022-05-22 02:49:24.405  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Executing this command: cd /home/tasksrunner/scripts &&  sudo MODELS_BASE_DIR_ENGLISH=  MODE=HITL APP_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/app/ SCRATCH_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/ EVENT_EXTRACTOR_FILES_DIRECTORY=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/ CORPUS_DIR=/mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/corpus/ ./annotate_request_docs.sh.ENGLISH >& /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/logfiles/HITL/annotate_request_docs.log
2022-05-22 02:49:24.447  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : annotate_request_docs output:

# Extract events from the top scoredHits for each request and create the
#   merged results.json file.

#cp ${APP_DIR}tasks.json ${APP_DIR}/tasks.json.SAVE
#cp tasks-ie.json ${APP_DIR}/tasks.json

for f in ${EVENT_EXTRACTOR_FILES_DIRECTORY}/${MODE}.*.REQUESTHITS.json; do
#    cp $f ${APP_DIR}/test_data.bp.json
#    MODELS_BASE_DIR=${MODELS_BASE_DIR_ENGLISH} APP_DIR=${APP_DIR} BETTER_PATH=BASIC-E ./run.sh.FARSI
#    cp ${APP_DIR}/results.json ${f}.results.json
    cp ${f} ${f}.results.json
    chmod a+rw ${f}.results.json
done

# remove results.json left over from event extractor, so later code
# can write to that name:
#set +e
#rm -f ${APP_DIR}/results.json
#set -e

#cp ${APP_DIR}/tasks.json.SAVE ${APP_DIR}tasks.json

echo `date`
Sun May 22 02:49:24 UTC 2022


2022-05-22 02:49:24.448  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Setting run file to /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:49:24.449  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Opening run file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/runfiles/HITL.Request.gregorybrooks-better-query-builder-get-candidate-docs:1.0.0.out
2022-05-22 02:49:24.450  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Adding a RequestRun for Request 6289a2cf0509597333de2c09_DUMMY
2022-05-22 02:49:24.451  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : 10 docids
2022-05-22 02:49:24.452  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : Reading event file /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289a2cf0509597333de2c09_DUMMY.REQUESTHITS.json.results.json
2022-05-22 02:49:24.460  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : /mnt/scratch/BETTER/BETTER_TEST_ENVIRONMENTS/BETTER_MITRE_EVAL_JAN_2021/scratch/clear_ir/eventextractorfiles/HITL.6289a2cf0509597333de2c09_DUMMY.REQUESTHITS.events.json written
2022-05-22 02:49:24.460  INFO 7 --- [nio-9400-exec-8] TasksRunner                              : PROCESSING COMPLETE
